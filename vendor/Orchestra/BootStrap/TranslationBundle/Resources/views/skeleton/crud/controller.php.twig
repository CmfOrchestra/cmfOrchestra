<?php
/**
 * This file is part of the <PI_CRUD> project.
 *
 * @category   PI_CRUD_Controllers
 * @package    Controller
 * @author Etienne de Longeaux <etienne.delongeaux@gmail.com>
 * @since XXXX-XX-XX
 *
 * For the full copyright and license information, please view the LICENSE
 * file that was distributed with this source code.
 */
namespace {{ namespace }}\Controller{{ entity_namespace ? '\\' ~ entity_namespace : '' }};

use Symfony\Bundle\FrameworkBundle\Controller\Controller;
use BootStrap\TranslationBundle\Controller\abstractController;
use PiApp\AdminBundle\Exception\ControllerException;

use Symfony\Component\HttpFoundation\RedirectResponse;
use Symfony\Component\HttpFoundation\Response;

use Sensio\Bundle\FrameworkExtraBundle\Configuration\Route;
use Sensio\Bundle\FrameworkExtraBundle\Configuration\Template;
use Sensio\Bundle\FrameworkExtraBundle\Configuration\Cache;
use JMS\SecurityExtraBundle\Annotation\Secure;

use Symfony\Component\Form\FormError;

use {{ namespace }}\Entity\{{ entity }};
{% if 'new' in actions or 'edit' in actions %}
use {{ namespace }}\Form\{{ entity }}Type;
{% endif %}
use {{ namespace }}\Entity\Translation\{{ entity }}Translation;

/**
 * {{ entity }} controller.
 *
{% if 'annotation' == format %}
 * @Route("/{{ route_prefix }}")
{% endif %}
 *
 * @category   PI_CRUD_Controllers
 * @package    Controller
 *
 * @author Etienne de Longeaux <etienne.delongeaux@gmail.com>
 */
class {{ entity_class }}Controller extends abstractController
{
    protected $_entityName = "{{ bundle }}:{{ entity }}";
    
    {%- include 'actions/enabledajax.php.twig' %}    
     
    {%- include 'actions/disableajax.php.twig' %}    
     
    {%- include 'actions/positionajax.php.twig' %}
    
    {%- include 'actions/deleteajax.php.twig' %}
    
    {%- include 'actions/archiveajax.php.twig' %}
    
    {%- include 'actions/selectionajax.php.twig' %}
    

    {%- if 'index' in actions %}
        {%- include 'actions/index.php.twig' %}
    {%- endif %}    

    {%- if 'show' in actions %}
        {%- include 'actions/show.php.twig' %}
    {%- endif %}

    {%- if 'new' in actions %}
        {%- include 'actions/new.php.twig' %}
        {%- include 'actions/create.php.twig' %}
    {%- endif %}

    {%- if 'edit' in actions %}
        {%- include 'actions/edit.php.twig' %}
        {%- include 'actions/update.php.twig' %}
    {%- endif %}

    {%- if 'delete' in actions %}
        {%- include 'actions/delete.php.twig' %}
    {%- endif %}
    
       {%- include 'actions/_template_show.php.twig' %}
    
       {%- include 'actions/_template_list.php.twig' %}    
       
       {%- include 'actions/_template_archive.php.twig' %}       
    
}